# ========================================
# NOTIFICATION SERVICE CONFIGURATION
# ========================================
quarkus.http.port=8080

# ========================================
# DISCORD WEBHOOK
# ========================================
discord.webhook.url=${DISCORD_WEBHOOK_URL: }
discord.webhook.enabled=${DISCORD_WEBHOOK_ENABLED:true}
notification.discord.enabled=${NOTIFICATION_DISCORD_ENABLED:true}

# ========================================
# BREVO (SENDINBLUE) EMAIL
# ========================================
brevo.api.key=${BREVO_API_KEY:}
brevo.api.url=https://api.brevo.com/v3
brevo.sender.name=${BREVO_SENDER_NAME:BestEcommerce}
brevo.sender.email=${BREVO_SENDER_EMAIL:noreply@example.com}
notification.email.enabled=${NOTIFICATION_EMAIL_ENABLED:false}

# ========================================
# KAFKA
# ========================================
kafka.bootstrap.servers=${KAFKA_BOOTSTRAP_SERVERS:localhost:9093}

# Dev Services (disabled - using external Kafka)
%dev.quarkus.kafka.devservices.enabled=false

# ========================================
# KAFKA CONSUMERS - ORDER SERVICE
# ========================================
mp.messaging.incoming.order-created.connector=smallrye-kafka
mp.messaging.incoming.order-created.topic=order-created
mp.messaging.incoming.order-created.group.id=notification-service
mp.messaging.incoming.order-created.auto.offset.reset=earliest
mp.messaging.incoming.order-created.enable.auto.commit=true
mp.messaging.incoming.order-created.failure-strategy=ignore

mp.messaging.incoming.order-status-changed.connector=smallrye-kafka
mp.messaging.incoming.order-status-changed.topic=order-status-changed
mp.messaging.incoming.order-status-changed.group.id=notification-service
mp.messaging.incoming.order-status-changed.auto.offset.reset=earliest
mp.messaging.incoming.order-status-changed.enable.auto.commit=true
mp.messaging.incoming.order-status-changed.failure-strategy=ignore

# ========================================
# KAFKA CONSUMERS - PRODUCT SERVICE
# ========================================
mp.messaging.incoming.product-created.connector=smallrye-kafka
mp.messaging.incoming.product-created.topic=product-created
mp.messaging.incoming.product-created.group.id=notification-service
mp.messaging.incoming.product-created.auto.offset.reset=earliest
mp.messaging.incoming.product-created.enable.auto.commit=true
mp.messaging.incoming.product-created.failure-strategy=ignore

mp.messaging.incoming.stock-changed.connector=smallrye-kafka
mp.messaging.incoming.stock-changed.topic=stock-changed
mp.messaging.incoming.stock-changed.group.id=notification-service
mp.messaging.incoming.stock-changed.auto.offset.reset=earliest
mp.messaging.incoming.stock-changed.enable.auto.commit=true
mp.messaging.incoming.stock-changed.failure-strategy=ignore

# ========================================
# OBSERVABILITY
# ========================================
# Health Check
quarkus.smallrye-health.root-path=/q/health

# Metrics
quarkus.micrometer.export.prometheus.enabled=true
quarkus.micrometer.export.prometheus.path=/q/metrics

# ========================================
# LOGGING
# ========================================
quarkus.log.level=INFO
quarkus.log.category."com.ecommerce".level=DEBUG
quarkus.log.console.format=%d{HH:mm:ss} %-5p [%c{2.}] (%t) %s%e%n

# JSON logs (disabled by default, enabled in production)
quarkus.log.console.json=false

# ========================================
# PROFILE:  DEV
# ========================================
%dev.quarkus.console.enabled=false
%dev.quarkus.log.console.json=false

# ========================================
# PROFILE: PRODUCTION
# ========================================
%prod.quarkus.log.console.json=true
%prod.quarkus.log.level=INFO
%prod.quarkus.log.category."com.ecommerce".level=INFO