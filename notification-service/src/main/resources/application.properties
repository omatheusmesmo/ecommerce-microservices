# Service Port
quarkus.http.port=8083

# ========================================
# HEALTH CHECK
# ========================================
quarkus.smallrye-health.root-path=/health

# ========================================
# METRICS
# ========================================
quarkus.micrometer.export.prometheus.enabled=true
quarkus.micrometer.export.prometheus.path=/q/metrics

# ========================================
# LOGS
# ========================================
quarkus.log.console.format=%d{HH:mm:ss} %-5p [%c{2.}] (%t) %s%e%n
quarkus.log.level=INFO
quarkus.log.category."com.ecommerce".level=DEBUG

# ========================================
# DEV MODE
# ========================================
%dev.quarkus.console.enabled=false

# ========================================
# KAFKA
# ========================================
# Bootstrap servers
kafka.bootstrap.servers=localhost:9093

# Disable Dev Services (using docker-compose)
%dev.quarkus.kafka.devservices.enabled=false

# ========================================
# INCOMING CHANNELS - ORDER SERVICE
# ========================================
# Order Created
mp.messaging.incoming.order-created.connector=smallrye-kafka
mp.messaging.incoming.order-created.topic=order-created
mp.messaging.incoming.order-created.value.deserializer=io.quarkus.kafka.client.serialization.ObjectMapperDeserializer
mp.messaging.incoming.order-created.value.type=com.ecommerce.event.OrderCreatedEvent
mp.messaging.incoming.order-created.group.id=notification-service
mp.messaging.incoming.order-created.auto.offset.reset=earliest
mp.messaging.incoming.order-created.enable.auto.commit=true

# Order Status Changed
mp.messaging.incoming.order-status-changed.connector=smallrye-kafka
mp.messaging.incoming.order-status-changed.topic=order-status-changed
mp.messaging.incoming.order-status-changed.value.deserializer=io.quarkus.kafka.client.serialization.ObjectMapperDeserializer
mp.messaging.incoming.order-status-changed.value.type=com.ecommerce.event.OrderStatusChangedEvent
mp.messaging.incoming.order-status-changed.group.id=notification-service
mp.messaging.incoming.order-status-changed.auto.offset.reset=earliest
mp.messaging.incoming.order-status-changed.enable.auto.commit=true

# ========================================
# INCOMING CHANNELS - PRODUCT SERVICE
# ========================================
# Product Created
mp.messaging.incoming.product-created.connector=smallrye-kafka
mp.messaging.incoming.product-created.topic=product-created
mp.messaging.incoming.product-created.value.deserializer=io.quarkus.kafka.client.serialization.ObjectMapperDeserializer
mp.messaging.incoming.product-created.value.type=com.ecommerce.event.ProductCreatedEvent
mp.messaging.incoming.product-created.group.id=notification-service
mp.messaging.incoming.product-created.auto.offset.reset=earliest
mp.messaging.incoming.product-created.enable.auto.commit=true

# Stock Changed
mp.messaging.incoming.stock-changed.connector=smallrye-kafka
mp.messaging.incoming.stock-changed.topic=stock-changed
mp.messaging.incoming.stock-changed.value.deserializer=io.quarkus.kafka.client.serialization.ObjectMapperDeserializer
mp.messaging.incoming.stock-changed.value.type=com.ecommerce.event.StockChangedEvent
mp.messaging.incoming.stock-changed.group.id=notification-service
mp.messaging.incoming.stock-changed.auto.offset.reset=earliest
mp.messaging.incoming.stock-changed.enable.auto.commit=true

# ========================================
# KAFKA ERROR HANDLING
# ========================================
mp.messaging.incoming.order-created.failure-strategy=ignore
mp.messaging.incoming.order-status-changed.failure-strategy=ignore
mp.messaging.incoming.product-created.failure-strategy=ignore
mp.messaging.incoming.stock-changed.failure-strategy=ignore